# QuickSampler
Efficient Sampling of SAT Solutions for Testing

[Paper](https://people.eecs.berkeley.edu/~rtd/papers/quicksampler.pdf)

# Building

Install dependencies

```
sudo apt install git g++ make python-minimal
```

Clone repos

```
git clone https://github.com/RafaelTupynamba/quicksampler.git
git clone https://github.com/Z3Prover/z3.git
```

Build z3 (with a patch to check samples generated by QuickSampler)

```
cd z3
git am ../quicksampler/check/0001-Check-validity-of-samples-generated-by-QuickSampler.patch
python scripts/mk_make.py
cd build
make
sudo make install
cd ../..
```

Build QuickSampler

```
cd quicksampler
make
```

# Running

Simply run with

```
./quicksampler formula.cnf
```

QuickSampler will create a file `formula.cnf.samples` with the samples generated and print statistics to standard output.

To check the validity of the samples generated, run z3 with the checking patch applied

```
z3 formula.cnf
```

This will read samples from `formula.cnf.samples`, check if they satisfy the formula `formula.cnf` and create a file `formula.samples.valid` with the results.

# Benchmarks

The benchmarks used are included under the `Benchmarks` directory. Like UniGen2, QuickSampler expects formulas in DIMACS CNF format, with the independent support specified.

# Comparison with SearchTreeSampler

For convenience, we provide the patch `STS/STS.patch` that we applied over the SearchTreeSampler source code `STS/STS.zip` for it to use the independent support for sampling.

# Comparison with UniGen2

For comparison with UniGen2, the source code can be obtained from `https://bitbucket.org/kuldeepmeel/unigen`.

# Paper

[ICSE 2018 paper](https://people.eecs.berkeley.edu/~rtd/papers/quicksampler.pdf)

Efficient Sampling of SAT Solutions for Testing

Rafael Dutra, Kevin Laeufer, Jonathan Bachrach, Koushik Sen
